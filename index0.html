<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet" href="index.css">
</head>
<body style="font-family:Verdana;">

<div style="background-color:#f1f1f1;padding:15px;">
  <h1>Rotify</h1>
  <h3>Music for Everyone</h3>
</div>

<div style="overflow:auto">
  <div class="menu">
    <div class="menuitem"><h4>Search available songs:</h4></div>
    <input type="text" id="myInput" onkeyup="myFunction()" placeholder= "Search  "  title="Type in a name">
    <div id="sg_list"> <div class="menuitem" id="#Coke Studio  Season 14  Pasoori  Ali Sethi x Shae Gill">Coke Studio  Season 14  Pasoori  Ali Sethi x Shae Gill</div> 
<div class="menuitem" id="#WAVY (OFFICIAL VIDEO) KARAN AUJLA  LATEST PUNJABI SONGS 2024">WAVY (OFFICIAL VIDEO) KARAN AUJLA  LATEST PUNJABI SONGS 2024</div> 
    </div>

  </div>

  <div class="main">    
    <h2>The Walk</h2>
    <p>Music has a profound ability to connect people across cultures, transcend barriers, and evoke deep emotions. It serves as a universal language that can heal, inspire, and bring comfort, offering a form of expression that words alone often cannot capture. Given its transformative power, music should be accessible to everyone, regardless of their background or financial situation. When music is made available for free, it levels the playing field, allowing all individuals to explore their creativity, find solace, or experience joy through sound. It nurtures the soul, encourages social connection, and fosters a sense of shared humanity, reminding us that art, in all its forms, should be a right and not a privilege. By ensuring music is free, we embrace its ability to unite, educate, and uplift society as a whole.</p>
  </div>

  <div class="right">
    <h2>What?</h2>
    <p>A Web Player.</p>
    <h2>Where?</h2>
    <p>Anywhere you could dream of.</p>
    <h2>Price?</h2>
    <p>Free!</p>
  </div>
</div>


<div style="background-color:#f1f1f1;text-align:center;padding:10px;margin-top:7px;font-size:12px;"> This web page is a part of a demonstration of independent design.</div>

<div class="player">
    <audio controls style="width: 100%" id="audio_p">
        <source id="player" src="test.m4a" type="audio/mpeg">
      Your browser does not support the audio element.
    </audio>
</div>


<script>
    function myFunction() {
    var input, filter, ul, li, a, i, txtValue;
    input = document.getElementById("myInput");
    filter = input.value.toUpperCase();
    ul = document.getElementById("sg_list");
    li = ul.getElementsByClassName("menuitem");
    for (i = 0; i < li.length; i++) {
        txtValue = li[i].textContent || li[i].innerText;
        if (txtValue.toUpperCase().indexOf(filter) > -1) {
            li[i].style.display = "";
        } else {
            li[i].style.display = "none";
        }
    }
}

const source = document.getElementById('player');
const divs = document.querySelectorAll('.menuitem');
const audio = document.getElementById('audio_p');

///

const audioList = ['Coke Studio  Season 14  Pasoori  Ali Sethi x Shae Gill.m4a','WAVY (OFFICIAL VIDEO) KARAN AUJLA  LATEST PUNJABI SONGS 2024.m4a',];



let currentAudioIndex = 0;

// Function to load and play the next video
function playNextAudio() {
  // Change the video source
  source.src = audioList[currentAudioIndex];

  // Load the new video and play it
  audio.load();
  audio.play().catch(error => {
    console.error('Error playing the video:', error);
  });
  
  // Update the current index for the next video
  currentAudioIndex = (currentAudioIndex + 1) % audioList.length;  // Loop back to the first video
}

// Add an event listener for when the current video ends
audio.addEventListener('ended', playNextAudio);

// Loop through each div and add a click event listener
divs.forEach(div => {
  div.addEventListener('click', function() {
    let newSrc = this.id;
    newSrc = newSrc.slice(1);
    source.src = 'Songs/' + newSrc + '.m4a';
    console.log('Songs/' + newSrc + '.m4a');
    audio.load()
    audio.play().catch(error => {
       console.error('Error playing video:', error);
    });
  });
});
</script>
</body>
</html>

