<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet" href="index.css">
</head>
<body style="font-family:Verdana;">

<div style="background-color:#f1f1f1;padding:15px;">
  <h1>Rotify</h1>
  <h3>Music for Everyone</h3>
</div>

<div style="overflow:auto">
  <div class="menu">
    <div class="menuitem"><h4>Search available songs:</h4></div>
    <input type="text" id="myInput" onkeyup="myFunction()" placeholder= "Search  "  title="Type in a name">
    <div id="sg_list">    
        <div class="menuitem" id="#Coke Studio  Season 14  Pasoori  Ali Sethi x Shae Gill">Coke Studio  Season 14  Pasoori  Ali Sethi x Shae Gill</div>
        <div class="menuitem">Transport</div>
        <div class="menuitem">History</div>
        <div class="menuitem">Gallery</div>
    </div>

  </div>

  <div class="main">    
    <h2>The Walk</h2>
    <p>The walk from Monterosso to Riomaggiore will take you approximately two hours, give or take an hour depending on the weather conditions and your physical shape.</p>
    <img src="img_5terre.jpg" style="width:100%">
  </div>

  <div class="right">
    <h2>What?</h2>
    <p>Cinque Terre comprises five villages: Monterosso, Vernazza, Corniglia, Manarola, and Riomaggiore.</p>
    <h2>Where?</h2>
    <p>On the northwest cost of the Italian Riviera, north of the city La Spezia.</p>
    <h2>Price?</h2>
    <p>The Walk is free!</p>
  </div>
</div>


<div style="background-color:#f1f1f1;text-align:center;padding:10px;margin-top:7px;font-size:12px;"> This web page is a part of a demonstration of fluid web design made by w3schools.com. Resize the browser window to see the content respond to the resizing.</div>

<div class="player">
    <audio controls style="width: 100%" id="audio_p">
        <source id="player" src="test.m4a" type="audio/mpeg">
      Your browser does not support the audio element.
    </audio>
</div>


<script>
    function myFunction() {
    var input, filter, ul, li, a, i, txtValue;
    input = document.getElementById("myInput");
    filter = input.value.toUpperCase();
    ul = document.getElementById("sg_list");
    li = ul.getElementsByClassName("menuitem");
    for (i = 0; i < li.length; i++) {
        txtValue = li[i].textContent || li[i].innerText;
        if (txtValue.toUpperCase().indexOf(filter) > -1) {
            li[i].style.display = "";
        } else {
            li[i].style.display = "none";
        }
    }
}

const source = document.getElementById('player');
const divs = document.querySelectorAll('.menuitem');
const audio = document.getElementById('audio_p');

// Loop through each div and add a click event listener
divs.forEach(div => {
  div.addEventListener('click', function() {
    let newSrc = this.id;
    newSrc = newSrc.slice(1);
    source.src = 'Songs/' + newSrc + '.m4a';
    console.log('Songs/' + newSrc + '.m4a');
    audio.load()
    audio.play().catch(error => {
       console.error('Error playing video:', error);
    });
  });
});
</script>
</body>
</html>

